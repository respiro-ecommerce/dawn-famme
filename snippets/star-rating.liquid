{% assign half_star = rating | modulo: 1 %}

{% if float_rating >= 4.5 %}
  {% assign rating = 5 %}
{% elsif float_rating >= 3.5 and rating <= 4 %}
  {% assign rating = 4 %}
{% endif %}

{% for index in (1..rating) %}
  {% render 'icon-star', with modifier: 'filled' %}
{% endfor %}

{% assign rating_left = 5 | minus: rating %}

{% for index in (1..rating_left) %}
  {% render 'icon-star', with modifier: 'unfilled' %}
{% endfor %}