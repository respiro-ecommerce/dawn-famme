{%- assign colors = settings.colors | newline_to_br | split: '<br />' -%}
{% for option in product.options %}
  {%- assign downcased_option = option | downcase -%}
  {% if downcased_option contains 'color' or downcased_option contains 'colour' or downcased_option contains 'far' or downcased_option contains 'f√§r' %}
    {%- assign option_index = forloop.index0 -%}
    {%- assign values = '' -%}
    {% assign counter = 0 %}{% assign imgs = 0 %}
    <div class="product-groups__images">
      {% for variant in product.variants %}
        {% if variant.available %}
      	  {%- assign value = variant.options[option_index] -%}
      	  {% comment %} The first variant is in feature image, no need to display thumbnail {% endcomment %}
      	  {% if counter < 0  %}
      		{% assign values = values | join: ',' %}
      		{% assign values = values | append: ',' | append: value %}
      		{% assign values = values | split: ',' %}
      		{% assign counter = counter | plus:1 %}
      		{% continue %}
      	  {% endif %}
      	  {% assign counter = counter | plus:1 %}
          {% unless values contains value %}
      		{% assign values = values | join: ',' %}
      		{% assign values = values | append: ',' | append: value %}
      		{% assign values = values | split: ',' %}
      		{% if variant.image %}
              {% assign clrs = clrs | plus: 1 %}
      		  <a src="{{ variant.image | img_url: 'medium' }}" href="{{ variant.url }}" title="{{ value }}" data-toggle="toggle{{ itemID }}" class="other-product-image img{% if clrs > 3 %} hidden{% endif %}" style="background:{% for color in colors %}{%- assign cp = color | strip | split: '-' -%}{% if cp.first == value %}{{ cp.last }}{% break %}{% endif %}{% endfor %};"> </a>
      	    {% endif %}
      	  {% endunless %}
      	{% endif %}
      {% endfor %}
      {% if clrs > 3 %}<span class="other-product-image more">+{{ clrs | minus: 3 }}</span>{% endif %}
	</div>
  {% endif %}
{% endfor %}